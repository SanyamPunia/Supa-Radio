import{J as je,C as le,S as G,i as X,s as Q,e as _,t as M,c as g,a as v,g as q,d as f,b as h,f as E,H as p,h as ae,k as P,n as j,K as he,L as T,x as U,I as N,M as ie,N as F,A as ge,O as J,P as ne,Q as Ve,R as re,T as oe,U as ce,V as pe,l as $,r as me,u as B,w as _e,W as De,j as K,m as x,o as ee,v as te,X as Te,Y as ve,Z as be,_ as Ue,$ as Ce,a0 as Me,a1 as qe,a2 as Ae,a3 as Re,a4 as Oe,a5 as Be}from"../chunks/vendor-0ec84c1a.js";const L=je("https://dtprlndlwbwnggjkkjel.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMzE5OTI0OSwiZXhwIjoxOTQ4Nzc1MjQ5fQ.3j1fYOu8xDDMgZXJkM0y0VniTaXhSNrkoPziDvN-dvk"),W=le("home"),ue=le(null),Y=le([]),fe=le(0),Z=le(!0),Le=async()=>{let c=[];const{data:e,error:t}=await L.storage.from("music-files").list();e.map(s=>{c.push({songName:s.name,url:null})}),Y.set(c)};Le();function we(c){let e,t,s=c[6][c[5]].songName.split(".")[0]+"",a;return{c(){e=_("span"),t=M("Now Playing"),a=M(s),this.h()},l(l){e=g(l,"SPAN",{class:!0});var i=v(e);t=q(i,"Now Playing"),i.forEach(f),a=q(l,s),this.h()},h(){h(e,"class","green svelte-1dwj0q5")},m(l,i){E(l,e,i),p(e,t),E(l,a,i)},p(l,i){i&96&&s!==(s=l[6][l[5]].songName.split(".")[0]+"")&&ae(a,s)},d(l){l&&f(e),l&&f(a)}}}function Fe(c){let e;return{c(){e=_("i"),this.h()},l(t){e=g(t,"I",{class:!0}),v(e).forEach(f),this.h()},h(){h(e,"class","fas fa-spinner fa-pulse svelte-1dwj0q5")},m(t,s){E(t,e,s)},p:N,i:N,o:N,d(t){t&&f(e)}}}function $e(c){let e,t,s,a,l,i;function n(r,d){return r[1]?Je:He}let u=n(c),o=u(c);return{c(){e=_("i"),t=P(),o.c(),s=P(),a=_("i"),this.h()},l(r){e=g(r,"I",{class:!0}),v(e).forEach(f),t=j(r),o.l(r),s=j(r),a=g(r,"I",{class:!0}),v(a).forEach(f),this.h()},h(){h(e,"class","fas fa-step-backward svelte-1dwj0q5"),h(a,"class","fas fa-step-forward svelte-1dwj0q5")},m(r,d){E(r,e,d),E(r,t,d),o.m(r,d),E(r,s,d),E(r,a,d),l||(i=[T(e,"click",c[13]),T(a,"click",c[12])],l=!0)},p(r,d){u===(u=n(r))&&o?o.p(r,d):(o.d(1),o=u(r),o&&(o.c(),U(o,1),o.m(s.parentNode,s)))},i(r){U(o)},o:N,d(r){r&&f(e),r&&f(t),o.d(r),r&&f(s),r&&f(a),l=!1,ie(i)}}}function Je(c){let e,t,s,a;return{c(){e=_("i"),this.h()},l(l){e=g(l,"I",{class:!0}),v(e).forEach(f),this.h()},h(){h(e,"class","pauseButton fas fa-pause svelte-1dwj0q5")},m(l,i){E(l,e,i),s||(a=T(e,"click",c[8]),s=!0)},p:N,i(l){t||re(()=>{t=oe(e,ce,{}),t.start()})},o:N,d(l){l&&f(e),s=!1,a()}}}function He(c){let e,t,s,a;return{c(){e=_("i"),this.h()},l(l){e=g(l,"I",{class:!0}),v(e).forEach(f),this.h()},h(){h(e,"class","playButton fas fa-play svelte-1dwj0q5")},m(l,i){E(l,e,i),s||(a=T(e,"click",c[7]),s=!0)},p:N,i(l){t||re(()=>{t=oe(e,ce,{}),t.start()})},o:N,d(l){l&&f(e),s=!1,a()}}}function We(c){let e,t,s;return{c(){e=_("i"),this.h()},l(a){e=g(a,"I",{id:!0,class:!0}),v(e).forEach(f),this.h()},h(){h(e,"id","muteButton"),h(e,"class","fas fa-volume-mute red svelte-1dwj0q5")},m(a,l){E(a,e,l),t||(s=T(e,"click",c[10]),t=!0)},p:N,d(a){a&&f(e),t=!1,s()}}}function Ge(c){let e,t,s;return{c(){e=_("i"),this.h()},l(a){e=g(a,"I",{id:!0,class:!0}),v(e).forEach(f),this.h()},h(){h(e,"id","muteButton"),h(e,"class","fas fa-volume-up white svelte-1dwj0q5")},m(a,l){E(a,e,l),t||(s=T(e,"click",c[9]),t=!0)},p:N,d(a){a&&f(e),t=!1,s()}}}function Xe(c){let e,t,s,a,l,i,n,u,o,r,d,b,w,y=c[6].length>0&&we(c);function I(m,k){return m[4]?Fe:$e}let C=I(c),z=C(c);function R(m,k){return m[2]?We:Ge}let S=R(c),V=S(c);return{c(){e=_("div"),t=_("div"),s=_("div"),a=P(),l=_("div"),y&&y.c(),i=P(),n=_("div"),z.c(),u=P(),o=_("div"),V.c(),r=P(),d=_("input"),this.h()},l(m){e=g(m,"DIV",{class:!0});var k=v(e);t=g(k,"DIV",{class:!0});var D=v(t);s=g(D,"DIV",{class:!0}),v(s).forEach(f),a=j(D),l=g(D,"DIV",{class:!0});var A=v(l);y&&y.l(A),A.forEach(f),i=j(D),n=g(D,"DIV",{class:!0});var H=v(n);z.l(H),H.forEach(f),u=j(D),o=g(D,"DIV",{class:!0});var O=v(o);V.l(O),r=j(O),d=g(O,"INPUT",{type:!0,min:!0,max:!0,class:!0}),O.forEach(f),D.forEach(f),k.forEach(f),this.h()},h(){h(s,"class","progressBar svelte-1dwj0q5"),h(l,"class","nowPlayingContainer svelte-1dwj0q5"),h(n,"class","songControls svelte-1dwj0q5"),h(d,"type","range"),h(d,"min","0"),h(d,"max","100"),h(d,"class","slider svelte-1dwj0q5"),h(o,"class","volumeSlider svelte-1dwj0q5"),h(t,"class","bottom-items svelte-1dwj0q5"),h(e,"class","bottom-container svelte-1dwj0q5")},m(m,k){E(m,e,k),p(e,t),p(t,s),c[15](s),p(t,a),p(t,l),y&&y.m(l,null),p(t,i),p(t,n),z.m(n,null),p(t,u),p(t,o),V.m(o,null),p(o,r),p(o,d),he(d,c[0]),b||(w=[T(d,"change",c[16]),T(d,"input",c[16]),T(d,"input",c[11])],b=!0)},p(m,[k]){m[6].length>0?y?y.p(m,k):(y=we(m),y.c(),y.m(l,null)):y&&(y.d(1),y=null),C===(C=I(m))&&z?z.p(m,k):(z.d(1),z=C(m),z&&(z.c(),U(z,1),z.m(n,null))),S===(S=R(m))&&V?V.p(m,k):(V.d(1),V=S(m),V&&(V.c(),V.m(o,r))),k&1&&he(d,m[0])},i(m){U(z)},o:N,d(m){m&&f(e),c[15](null),y&&y.d(),z.d(),V.d(),b=!1,ie(w)}}}function Qe(c,e,t){let s,a,l;F(c,Z,m=>t(4,s=m)),F(c,fe,m=>t(5,a=m)),F(c,Y,m=>t(6,l=m));let{app:i}=e,n=20,u=n,o=!1,r=!1,d;ge(async()=>{J(Z,s=!0,s);let m;if(l[a].url==null){const{data:k,error:D}=await L.storage.from("music-files").download(l[a].songName);m=URL.createObjectURL(k),J(Y,l[a].url=m,l)}i.changeSound(m),i.addProgressEvent(d),J(Z,s=!1,s)});const b=async()=>{t(1,o=!0),i.playSound()},w=()=>{t(1,o=!1),i.pauseSound()},y=()=>{t(2,r=!0),t(0,n=0),i.changeVolume(n)},I=()=>{t(2,r=!1),u==0&&(u=20),t(0,n=u),i.changeVolume(n)},C=m=>{u=n,n==0?y():(t(2,r=!1),i.changeVolume(n))},z=async()=>{w(),J(Z,s=!0,s),fe.set((a+1)%l.length);let m;if(l[a].url==null){const{data:k,error:D}=await L.storage.from("music-files").download(l[a].songName);m=URL.createObjectURL(k),J(Y,l[a].url=m,l)}i.changeSound(m),J(Z,s=!1,s),b()},R=async()=>{J(Z,s=!0,s),w(),a==0?fe.set(l.length-1):fe.set(a-1);let m;if(l[a].url==null){const{data:k,error:D}=await L.storage.from("music-files").download(l[a].songName);m=URL.createObjectURL(k),J(Y,l[a].url=m,l)}else m=l[a].url;i.changeSound(m),J(Z,s=!1,s),b()};function S(m){ne[m?"unshift":"push"](()=>{d=m,t(3,d)})}function V(){n=Ve(this.value),t(0,n)}return c.$$set=m=>{"app"in m&&t(14,i=m.app)},[n,o,r,d,s,a,l,b,w,y,I,C,z,R,i,S,V]}class Ye extends G{constructor(e){super();X(this,e,Qe,Xe,Q,{app:14})}}function Ze(c){let e,t,s,a,l,i,n,u,o,r,d,b,w,y,I,C,z,R,S,V;return{c(){e=_("div"),t=_("i"),s=P(),a=_("div"),l=_("form"),i=_("input"),n=P(),u=_("input"),o=P(),r=_("button"),d=M("Sign In"),b=P(),w=_("p"),y=M("New User? "),I=_("span"),C=M("Sign Up"),z=M(" instead!"),this.h()},l(m){e=g(m,"DIV",{class:!0});var k=v(e);t=g(k,"I",{class:!0}),v(t).forEach(f),s=j(k),a=g(k,"DIV",{class:!0});var D=v(a);l=g(D,"FORM",{class:!0});var A=v(l);i=g(A,"INPUT",{name:!0,type:!0,autocomplete:!0,placeholder:!0,class:!0}),n=j(A),u=g(A,"INPUT",{name:!0,type:!0,autocomplete:!0,placeholder:!0,class:!0}),o=j(A),r=g(A,"BUTTON",{class:!0});var H=v(r);d=q(H,"Sign In"),H.forEach(f),A.forEach(f),b=j(D),w=g(D,"P",{class:!0});var O=v(w);y=q(O,"New User? "),I=g(O,"SPAN",{class:!0});var se=v(I);C=q(se,"Sign Up"),se.forEach(f),z=q(O," instead!"),O.forEach(f),D.forEach(f),k.forEach(f),this.h()},h(){h(t,"class","fas fa-arrow-left svelte-1jzb7t7"),h(i,"name","email"),h(i,"type","email"),i.required=!0,h(i,"autocomplete","off"),h(i,"placeholder","Email..."),h(i,"class","svelte-1jzb7t7"),h(u,"name","password"),h(u,"type","password"),u.required=!0,h(u,"autocomplete","off"),h(u,"placeholder","Password..."),h(u,"class","svelte-1jzb7t7"),h(r,"class","svelte-1jzb7t7"),h(l,"class","svelte-1jzb7t7"),h(I,"class","svelte-1jzb7t7"),h(w,"class","svelte-1jzb7t7"),h(a,"class","auth-form svelte-1jzb7t7"),h(e,"class","pop-up svelte-1jzb7t7")},m(m,k){E(m,e,k),p(e,t),p(e,s),p(e,a),p(a,l),p(l,i),p(l,n),p(l,u),p(l,o),p(l,r),p(r,d),p(a,b),p(a,w),p(w,y),p(w,I),p(I,C),p(w,z),S||(V=[T(t,"click",c[2]),T(l,"submit",pe(c[0])),T(I,"click",c[1])],S=!0)},p:N,i(m){R||re(()=>{R=oe(e,ce,{}),R.start()})},o:N,d(m){m&&f(e),S=!1,ie(V)}}}function Ke(c){async function e(a){const l=new FormData(a.target),{user:i,session:n,error:u}=await L.auth.signIn({email:l.get("email"),password:l.get("password")});if(u)alert(u.message);else{let o=i.email.split("@")[0];W.set("home"),ue.set(o)}}function t(){W.set("sign-up")}return[e,t,()=>{W.set("home")}]}class xe extends G{constructor(e){super();X(this,e,Ke,Ze,Q,{})}}function et(c){let e,t,s,a,l,i,n,u,o,r,d,b,w,y,I,C,z,R,S,V;return{c(){e=_("div"),t=_("i"),s=P(),a=_("div"),l=_("form"),i=_("input"),n=P(),u=_("input"),o=P(),r=_("button"),d=M("Sign Up"),b=P(),w=_("p"),y=M("Existing User? "),I=_("span"),C=M("Sign In"),z=M(" instead!"),this.h()},l(m){e=g(m,"DIV",{class:!0});var k=v(e);t=g(k,"I",{class:!0}),v(t).forEach(f),s=j(k),a=g(k,"DIV",{class:!0});var D=v(a);l=g(D,"FORM",{class:!0});var A=v(l);i=g(A,"INPUT",{name:!0,type:!0,autocomplete:!0,placeholder:!0,class:!0}),n=j(A),u=g(A,"INPUT",{name:!0,type:!0,autocomplete:!0,placeholder:!0,class:!0}),o=j(A),r=g(A,"BUTTON",{class:!0});var H=v(r);d=q(H,"Sign Up"),H.forEach(f),A.forEach(f),b=j(D),w=g(D,"P",{class:!0});var O=v(w);y=q(O,"Existing User? "),I=g(O,"SPAN",{class:!0});var se=v(I);C=q(se,"Sign In"),se.forEach(f),z=q(O," instead!"),O.forEach(f),D.forEach(f),k.forEach(f),this.h()},h(){h(t,"class","fas fa-arrow-left svelte-1jzb7t7"),h(i,"name","email"),h(i,"type","email"),i.required=!0,h(i,"autocomplete","off"),h(i,"placeholder","Email..."),h(i,"class","svelte-1jzb7t7"),h(u,"name","password"),h(u,"type","password"),u.required=!0,h(u,"autocomplete","off"),h(u,"placeholder","Password..."),h(u,"class","svelte-1jzb7t7"),h(r,"class","svelte-1jzb7t7"),h(l,"class","svelte-1jzb7t7"),h(I,"class","svelte-1jzb7t7"),h(w,"class","svelte-1jzb7t7"),h(a,"class","auth-form svelte-1jzb7t7"),h(e,"class","pop-up svelte-1jzb7t7")},m(m,k){E(m,e,k),p(e,t),p(e,s),p(e,a),p(a,l),p(l,i),p(l,n),p(l,u),p(l,o),p(l,r),p(r,d),p(a,b),p(a,w),p(w,y),p(w,I),p(I,C),p(w,z),S||(V=[T(t,"click",c[2]),T(l,"submit",pe(c[0])),T(I,"click",c[1])],S=!0)},p:N,i(m){R||re(()=>{R=oe(e,ce,{}),R.start()})},o:N,d(m){m&&f(e),S=!1,ie(V)}}}function tt(c){async function e(a){const l=new FormData(a.target),{user:i,session:n,error:u}=await L.auth.signUp({email:l.get("email"),password:l.get("password")});if(u)alert(u.message);else{W.set("home");let o=i.email.split("@")[0];ue.set(o),alert("Signed In as: "+o)}}function t(){W.set("sign-in")}return[e,t,()=>{W.set("home")}]}class st extends G{constructor(e){super();X(this,e,tt,et,Q,{})}}function ye(c){let e,t,s,a,l,i,n,u,o,r,d;return{c(){e=_("div"),t=_("div"),s=_("p"),a=_("span"),l=M(c[0]),i=P(),n=_("i"),u=P(),o=_("i"),this.h()},l(b){e=g(b,"DIV",{class:!0});var w=v(e);t=g(w,"DIV",{class:!0});var y=v(t);s=g(y,"P",{class:!0});var I=v(s);a=g(I,"SPAN",{class:!0});var C=v(a);l=q(C,c[0]),C.forEach(f),i=j(I),n=g(I,"I",{class:!0}),v(n).forEach(f),u=j(I),o=g(I,"I",{class:!0}),v(o).forEach(f),I.forEach(f),y.forEach(f),w.forEach(f),this.h()},h(){h(a,"class","svelte-1okxqai"),h(n,"class","fas fa-user"),h(o,"class","fas fa-sign-out-alt svelte-1okxqai"),h(s,"class","svelte-1okxqai"),h(t,"class","profile"),h(e,"class","profile-container svelte-1okxqai")},m(b,w){E(b,e,w),p(e,t),p(t,s),p(s,a),p(a,l),p(s,i),p(s,n),p(s,u),p(s,o),r||(d=T(o,"click",c[1]),r=!0)},p(b,w){w&1&&ae(l,b[0])},d(b){b&&f(e),r=!1,d()}}}function lt(c){let e,t=c[0]!=null&&ye(c);return{c(){t&&t.c(),e=$()},l(s){t&&t.l(s),e=$()},m(s,a){t&&t.m(s,a),E(s,e,a)},p(s,[a]){s[0]!=null?t?t.p(s,a):(t=ye(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:N,o:N,d(s){t&&t.d(s),s&&f(e)}}}function at(c,e,t){let s;F(c,ue,l=>t(0,s=l));async function a(){const{error:l}=await L.auth.signOut();console.log(l),ue.set(null)}return[s,a]}class it extends G{constructor(e){super();X(this,e,at,lt,Q,{})}}function Se(c,e,t){const s=c.slice();return s[16]=e[t].name,s[17]=e[t].user,s}function ke(c){let e,t,s,a;const l=[ot,rt,nt],i=[];function n(u,o){return u[6]=="home"?0:u[6]=="sign-in"?1:u[6]=="sign-up"?2:-1}return~(e=n(c))&&(t=i[e]=l[e](c)),{c(){t&&t.c(),s=$()},l(u){t&&t.l(u),s=$()},m(u,o){~e&&i[e].m(u,o),E(u,s,o),a=!0},p(u,o){let r=e;e=n(u),e===r?~e&&i[e].p(u,o):(t&&(me(),B(i[r],1,1,()=>{i[r]=null}),_e()),~e?(t=i[e],t?t.p(u,o):(t=i[e]=l[e](u),t.c()),U(t,1),t.m(s.parentNode,s)):t=null)},i(u){a||(U(t),a=!0)},o(u){B(t),a=!1},d(u){~e&&i[e].d(u),u&&f(s)}}}function nt(c){let e,t;return e=new st({}),{c(){K(e.$$.fragment)},l(s){x(e.$$.fragment,s)},m(s,a){ee(e,s,a),t=!0},p:N,i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function rt(c){let e,t;return e=new xe({}),{c(){K(e.$$.fragment)},l(s){x(e.$$.fragment,s)},m(s,a){ee(e,s,a),t=!0},p:N,i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function ot(c){let e,t,s;function a(r,d){return r[7]?ut:ct}let l=a(c),i=l(c);function n(r,d){return r[5]==null?ht:ft}let u=n(c),o=u(c);return{c(){e=_("div"),i.c(),t=P(),o.c(),s=$(),this.h()},l(r){e=g(r,"DIV",{class:!0});var d=v(e);i.l(d),d.forEach(f),t=j(r),o.l(r),s=$(),this.h()},h(){h(e,"class","chat-display svelte-1wcw8na")},m(r,d){E(r,e,d),i.m(e,null),c[12](e),E(r,t,d),o.m(r,d),E(r,s,d)},p(r,d){l===(l=a(r))&&i?i.p(r,d):(i.d(1),i=l(r),i&&(i.c(),i.m(e,null))),u===(u=n(r))&&o?o.p(r,d):(o.d(1),o=u(r),o&&(o.c(),U(o,1),o.m(s.parentNode,s)))},i(r){U(o)},o:N,d(r){r&&f(e),i.d(),c[12](null),r&&f(t),o.d(r),r&&f(s)}}}function ct(c){let e;return{c(){e=_("i"),this.h()},l(t){e=g(t,"I",{class:!0}),v(e).forEach(f),this.h()},h(){h(e,"class","fas fa-spinner fa-pulse svelte-1wcw8na")},m(t,s){E(t,e,s)},p:N,d(t){t&&f(e)}}}function ut(c){let e,t=c[7],s=[];for(let a=0;a<t.length;a+=1)s[a]=Ee(Se(c,t,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=$()},l(a){for(let l=0;l<s.length;l+=1)s[l].l(a);e=$()},m(a,l){for(let i=0;i<s.length;i+=1)s[i].m(a,l);E(a,e,l)},p(a,l){if(l&128){t=a[7];let i;for(i=0;i<t.length;i+=1){const n=Se(a,t,i);s[i]?s[i].p(n,l):(s[i]=Ee(n),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=t.length}},d(a){ve(s,a),a&&f(e)}}}function Ee(c){let e,t,s,a=c[17]+"",l,i,n=c[16]+"",u,o;return{c(){e=_("div"),t=_("p"),s=_("span"),l=M(a),i=M(": "),u=M(n),o=P(),this.h()},l(r){e=g(r,"DIV",{class:!0});var d=v(e);t=g(d,"P",{class:!0});var b=v(t);s=g(b,"SPAN",{class:!0});var w=v(s);l=q(w,a),w.forEach(f),i=q(b,": "),u=q(b,n),b.forEach(f),o=j(d),d.forEach(f),this.h()},h(){h(s,"class","svelte-1wcw8na"),h(t,"class","svelte-1wcw8na"),h(e,"class","chat-content svelte-1wcw8na")},m(r,d){E(r,e,d),p(e,t),p(t,s),p(s,l),p(t,i),p(t,u),p(e,o)},p(r,d){d&128&&a!==(a=r[17]+"")&&ae(l,a),d&128&&n!==(n=r[16]+"")&&ae(u,n)},d(r){r&&f(e)}}}function ft(c){let e,t,s,a,l,i,n,u,o;return{c(){e=_("form"),t=_("div"),s=_("input"),a=P(),l=_("div"),i=_("button"),n=_("i"),this.h()},l(r){e=g(r,"FORM",{});var d=v(e);t=g(d,"DIV",{class:!0});var b=v(t);s=g(b,"INPUT",{placeholder:!0,class:!0,name:!0,type:!0,autocomplete:!0}),a=j(b),l=g(b,"DIV",{class:!0});var w=v(l);i=g(w,"BUTTON",{class:!0});var y=v(i);n=g(y,"I",{class:!0}),v(n).forEach(f),y.forEach(f),w.forEach(f),b.forEach(f),d.forEach(f),this.h()},h(){s.required=!0,h(s,"placeholder","Enter Message..."),h(s,"class","form-input svelte-1wcw8na"),h(s,"name","name"),h(s,"type","text"),h(s,"autocomplete","off"),h(n,"class","fas fa-arrow-right svelte-1wcw8na"),h(i,"class","form-btn svelte-1wcw8na"),h(l,"class","btn svelte-1wcw8na"),h(t,"class","form-elements svelte-1wcw8na")},m(r,d){E(r,e,d),p(e,t),p(t,s),c[14](s),he(s,c[1]),p(t,a),p(t,l),p(l,i),p(i,n),u||(o=[T(s,"input",c[15]),T(e,"submit",pe(c[8]))],u=!0)},p(r,d){d&2&&s.value!==r[1]&&he(s,r[1])},i:N,o:N,d(r){r&&f(e),c[14](null),u=!1,ie(o)}}}function ht(c){let e,t,s,a,l,i;return{c(){e=_("div"),t=_("button"),s=M("Join Chat"),this.h()},l(n){e=g(n,"DIV",{class:!0});var u=v(e);t=g(u,"BUTTON",{class:!0});var o=v(t);s=q(o,"Join Chat"),o.forEach(f),u.forEach(f),this.h()},h(){h(t,"class","svelte-1wcw8na"),h(e,"class","auth-btn svelte-1wcw8na")},m(n,u){E(n,e,u),p(e,t),p(t,s),l||(i=T(t,"click",c[13]),l=!0)},p:N,i(n){a||re(()=>{a=oe(t,ce,{}),a.start()})},o:N,d(n){n&&f(e),l=!1,i()}}}function dt(c){let e,t,s,a,l,i,n,u,o=c[3]==!1&&ke(c);return{c(){e=_("div"),t=_("div"),s=_("div"),a=_("i"),l=P(),o&&o.c(),this.h()},l(r){e=g(r,"DIV",{class:!0});var d=v(e);t=g(d,"DIV",{class:!0});var b=v(t);s=g(b,"DIV",{class:!0});var w=v(s);a=g(w,"I",{class:!0}),v(a).forEach(f),w.forEach(f),l=j(b),o&&o.l(b),b.forEach(f),d.forEach(f),this.h()},h(){h(a,"class","fas fa-dot-circle svelte-1wcw8na"),h(s,"class","toggle-container svelte-1wcw8na"),h(t,"class","chatForm svelte-1wcw8na"),h(e,"class","container svelte-1wcw8na")},m(r,d){E(r,e,d),p(e,t),p(t,s),p(s,a),c[11](a),p(t,l),o&&o.m(t,null),i=!0,n||(u=T(s,"click",c[10]),n=!0)},p(r,[d]){r[3]==!1?o?(o.p(r,d),d&8&&U(o,1)):(o=ke(r),o.c(),U(o,1),o.m(t,null)):o&&(me(),B(o,1,1,()=>{o=null}),_e())},i(r){i||(U(o),i=!0)},o(r){B(o),i=!1},d(r){r&&f(e),c[11](null),o&&o.d(),n=!1,u()}}}function pt(c,e,t){let s,a,l;F(c,ue,S=>t(5,s=S)),F(c,W,S=>t(6,a=S));let i,n="",u,o=!1,r;async function d(S){const V=new FormData(S.target),{data:m,error:k}=await L.from("chat").insert({name:V.get("name"),user:s});console.log(k),t(0,i.value="",i),t(2,u.scrollTop=u.scrollHeight,u)}const b=De(null,S=>{L.from("chat").select("*").then(({error:m,data:k})=>S(k));const V=L.from("chat").on("INSERT",m=>{S([...Te(b),m.new])}).subscribe();return()=>L.removeSubscription(V)});F(c,b,S=>t(7,l=S));function w(S){t(3,o=!o),o?t(4,r.className="far fa-comment-dots",r):t(4,r.className="fas fa-dot-circle",r)}function y(S){ne[S?"unshift":"push"](()=>{r=S,t(4,r)})}function I(S){ne[S?"unshift":"push"](()=>{u=S,t(2,u)})}const C=()=>{W.set("sign-in")};function z(S){ne[S?"unshift":"push"](()=>{i=S,t(0,i)})}function R(){n=this.value,t(1,n)}return[i,n,u,o,r,s,a,l,d,b,w,y,I,C,z,R]}class mt extends G{constructor(e){super();X(this,e,pt,dt,Q,{})}}function Ie(c,e,t){const s=c.slice();return s[7]=e[t],s[9]=t,s}function Ne(c){let e,t,s,a,l=c[2],i=[];for(let n=0;n<l.length;n+=1)i[n]=ze(Ie(c,l,n));return{c(){e=_("h1"),t=M("Playlist"),s=P();for(let n=0;n<i.length;n+=1)i[n].c();a=$(),this.h()},l(n){e=g(n,"H1",{class:!0});var u=v(e);t=q(u,"Playlist"),u.forEach(f),s=j(n);for(let o=0;o<i.length;o+=1)i[o].l(n);a=$(),this.h()},h(){h(e,"class","svelte-1iybdvg")},m(n,u){E(n,e,u),p(e,t),E(n,s,u);for(let o=0;o<i.length;o+=1)i[o].m(n,u);E(n,a,u)},p(n,u){if(u&12){l=n[2];let o;for(o=0;o<l.length;o+=1){const r=Ie(n,l,o);i[o]?i[o].p(r,u):(i[o]=ze(r),i[o].c(),i[o].m(a.parentNode,a))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(n){n&&f(e),n&&f(s),ve(i,n),n&&f(a)}}}function ze(c){let e,t=c[7].songName.split(".")[0]+"",s,a;return{c(){e=_("p"),s=M(t),this.h()},l(l){e=g(l,"P",{class:!0});var i=v(e);s=q(i,t),i.forEach(f),this.h()},h(){h(e,"class",a=""+(be(c[3]==c[9]?"currentSong":"")+" svelte-1iybdvg"))},m(l,i){E(l,e,i),p(e,s)},p(l,i){i&4&&t!==(t=l[7].songName.split(".")[0]+"")&&ae(s,t),i&8&&a!==(a=""+(be(l[3]==l[9]?"currentSong":"")+" svelte-1iybdvg"))&&h(e,"class",a)},d(l){l&&f(e)}}}function _t(c){let e,t,s,a,l,i,n=c[0]==!1&&Ne(c);return{c(){e=_("div"),t=_("div"),s=_("i"),a=P(),n&&n.c(),this.h()},l(u){e=g(u,"DIV",{class:!0});var o=v(e);t=g(o,"DIV",{class:!0});var r=v(t);s=g(r,"I",{class:!0}),v(s).forEach(f),r.forEach(f),a=j(o),n&&n.l(o),o.forEach(f),this.h()},h(){h(s,"class","fas fa-dot-circle"),h(t,"class","toggle-container svelte-1iybdvg"),h(e,"class","playlist-container svelte-1iybdvg")},m(u,o){E(u,e,o),p(e,t),p(t,s),c[6](s),p(e,a),n&&n.m(e,null),l||(i=T(t,"click",c[4]),l=!0)},p(u,[o]){u[0]==!1?n?n.p(u,o):(n=Ne(u),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:N,o:N,d(u){u&&f(e),c[6](null),n&&n.d(),l=!1,i()}}}function gt(c,e,t){let s,a;F(c,Y,r=>t(2,s=r)),F(c,fe,r=>t(3,a=r));let l=!1,i,{app:n}=e;function u(r){t(0,l=!l),l?t(1,i.className="fas fa-music",i):t(1,i.className="fas fa-dot-circle",i)}function o(r){ne[r?"unshift":"push"](()=>{i=r,t(1,i)})}return c.$$set=r=>{"app"in r&&t(5,n=r.app)},[l,i,s,a,u,n,o]}class vt extends G{constructor(e){super();X(this,e,gt,_t,Q,{app:5})}}const bt=(c,e)=>c[Math.floor(Math.random()*e)],de=(c,e)=>Math.random()*(e-c)+c;class wt{constructor(e,t){this.maximumStars=t,this.stars=[],this.scene=e,this.colors=[16711765,16711680,16711714,43775,16777215],this.addStars()}addStars(){for(let e=0;e<this.maximumStars;e++){const t=de(.01,.25),s=new Ue(new Ce(t,24,24),new Me({color:bt(this.colors,this.colors.length)}));this.spawnStar(s),this.stars.push(s),this.scene.add(s)}}animate(e,t){let s=.001,a=t[20]*1e-4;this.stars.forEach((l,i)=>{let n=l.position.x,u=l.position.y,o=l.position.z,r=s+(1e-5*t[7]+a);l.position.set(n,u,o+r*e),l.position.z>1&&this.spawnStar(l)})}spawnStar(e){let t=de(-50,50),s=de(-50,50),a=de(-25,-50);e.position.set(t,s,a)}}class yt{constructor(){this.audio=new Audio,this.audio.crossOrigin="anonymous",this.initialized=!1,this.audioGain=!0}changeSound(e){this.audio.src=e}playSound(){this.initialized||(this.audioCtx=new AudioContext,this.gainNode=this.audioCtx.createGain(),this.audioSource=this.audioCtx.createMediaElementSource(this.audio),this.analyser=this.audioCtx.createAnalyser(),this.audioSource.connect(this.analyser),this.analyser.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination),this.analyser.fftSize=64,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.gainNode.gain.value=.2,this.initialized=!0),this.audio.play()}muteSound(){this.gainNode.gain.value=0}unmuteSound(){this.gainNode.gain.value=1}pauseSound(){this.audio.pause()}changeVolume(e){this.gainNode.gain.value=e/100}getFrequencyData(){return this.analyser.getByteFrequencyData(this.dataArray),this.dataArray}addProgressEvent(e){this.audio.addEventListener("timeupdate",()=>{let t=this.audio.currentTime/this.audio.duration*100;e.style.width=t+"%"})}}class St{constructor(e){this.scene=e,this.initScene()}animate(e,t){}initScene(){}}class kt{constructor(){this.initScene(),this.songPlaying=!1,this.currentVisualizer=null,this.visualizerType={STARS:"stars",CUBES:"cubes"},this.setActiveVisualizer(this.visualizerType.STARS),this.audioManager=new yt}setActiveVisualizer(e){switch(this.clearScene(),this.currentVisualizer=e,this.currentVisualizer){case this.visualizerType.STARS:this.visualizer=new wt(this.scene,1e3);break;case this.visualizerType.CUBES:this.visualizer=new St(this.scene);break}}animation(e){if(!this.lastTimeStamp){this.lastTimeStamp=e;return}const t=window.innerWidth,s=window.innerHeight;this.camera.aspect=t/s,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,s);const a=e-this.lastTimeStamp;if(this.songPlaying&&this.visualizer!=null){let l=this.audioManager.getFrequencyData();this.visualizer.animate(a,l)}this.renderer.render(this.scene,this.camera),this.lastTimeStamp=e}initScene(){const e=window.innerWidth/window.innerHeight;this.scene=new qe,this.camera=new Ae(75,e,.3,100),this.scene.background=new Re(1184274),this.renderer=new Oe({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.render(this.scene,this.camera),this.renderer.setAnimationLoop(this.animation.bind(this)),document.body.appendChild(this.renderer.domElement)}clearScene(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);const e=new Be(16777215,1);this.scene.add(e)}playSound(){this.audioManager.playSound(),this.songPlaying=!0}changeSound(e){this.audioManager.changeSound(e)}muteSound(){this.audioManager.muteSound()}unmuteSound(){this.audioManager.unmuteSound()}pauseSound(){this.songPlaying=!1,this.audioManager.pauseSound()}changeVolume(e){this.audioManager.changeVolume(e)}getSongDuration(){return this.audioManager.getSongDuration()}getSongCurrentTime(){return this.audioManager.getSongCurrentTime()}addProgressEvent(e){this.audioManager.addProgressEvent(e)}}function Pe(c){let e,t,s,a,l,i;return e=new mt({}),s=new vt({props:{app:c[0]}}),l=new Ye({props:{app:c[0]}}),{c(){K(e.$$.fragment),t=P(),K(s.$$.fragment),a=P(),K(l.$$.fragment)},l(n){x(e.$$.fragment,n),t=j(n),x(s.$$.fragment,n),a=j(n),x(l.$$.fragment,n)},m(n,u){ee(e,n,u),E(n,t,u),ee(s,n,u),E(n,a,u),ee(l,n,u),i=!0},p(n,u){const o={};u&1&&(o.app=n[0]),s.$set(o);const r={};u&1&&(r.app=n[0]),l.$set(r)},i(n){i||(U(e.$$.fragment,n),U(s.$$.fragment,n),U(l.$$.fragment,n),i=!0)},o(n){B(e.$$.fragment,n),B(s.$$.fragment,n),B(l.$$.fragment,n),i=!1},d(n){te(e,n),n&&f(t),te(s,n),n&&f(a),te(l,n)}}}function Et(c){let e,t,s,a=c[1].length>0&&Pe(c);return t=new it({}),{c(){a&&a.c(),e=P(),K(t.$$.fragment)},l(l){a&&a.l(l),e=j(l),x(t.$$.fragment,l)},m(l,i){a&&a.m(l,i),E(l,e,i),ee(t,l,i),s=!0},p(l,[i]){l[1].length>0?a?(a.p(l,i),i&2&&U(a,1)):(a=Pe(l),a.c(),U(a,1),a.m(e.parentNode,e)):a&&(me(),B(a,1,1,()=>{a=null}),_e())},i(l){s||(U(a),U(t.$$.fragment,l),s=!0)},o(l){B(a),B(t.$$.fragment,l),s=!1},d(l){a&&a.d(l),l&&f(e),te(t,l)}}}function It(c,e,t){let s;F(c,Y,l=>t(1,s=l));let a;return ge(()=>{window.focus(),t(0,a=new kt),window.app=a}),[a,s]}class zt extends G{constructor(e){super();X(this,e,It,Et,Q,{})}}export{zt as default};
